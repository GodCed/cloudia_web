

\hyperlink{class_a}{A} Java\+Script library for arbitrary-\/precision decimal and non-\/decimal arithmetic.

\href{https://travis-ci.org/MikeMcl/bignumber.js}{\tt !\mbox{[}Build Status\mbox{]}(https\+://travis-\/ci.\+org/\+Mike\+Mcl/bignumber.\+js.\+svg)}

~\newline


\subsection*{Features}


\begin{DoxyItemize}
\item Faster, smaller, and perhaps easier to use than Java\+Script versions of Java\textquotesingle{}s Big\+Decimal
\item 8 K\+B minified and gzipped
\item Simple A\+P\+I but full-\/featured
\item Works with numbers with or without fraction digits in bases from 2 to 64 inclusive
\item Replicates the {\ttfamily to\+Exponential}, {\ttfamily to\+Fixed}, {\ttfamily to\+Precision} and {\ttfamily to\+String} methods of Java\+Script\textquotesingle{}s Number type
\item Includes a {\ttfamily to\+Fraction} and a correctly-\/rounded {\ttfamily square\+Root} method
\item Supports cryptographically-\/secure pseudo-\/random number generation
\item No dependencies
\item Wide platform compatibility\+: uses Java\+Script 1.\+5 (E\+C\+M\+A\+Script 3) features only
\item Comprehensive \href{http://mikemcl.github.io/bignumber.js/}{\tt documentation} and test set
\end{DoxyItemize}



If a smaller and simpler library is required see \href{https://github.com/MikeMcl/big.js/}{\tt big.\+js}. It\textquotesingle{}s less than half the size but only works with decimal numbers and only has half the methods. It also does not allow {\ttfamily Na\+N} or {\ttfamily Infinity}, or have the configuration options of this library.

See also \href{https://github.com/MikeMcl/decimal.js/}{\tt decimal.\+js}, which among other things adds support for non-\/integer powers, and performs all operations to a specified number of significant digits.

\subsection*{Load}

The library is the single Java\+Script file {\itshape bignumber.\+js} (or minified, {\itshape bignumber.\+min.\+js}).


\begin{DoxyCode}
1 <script src='relative/path/to/bignumber.js'></script>
\end{DoxyCode}


For \href{http://nodejs.org}{\tt Node.\+js} or \href{https://iojs.org/en/index.html}{\tt io.\+js}, the library is available from the \href{https://npmjs.org/}{\tt npm} registry \begin{DoxyVerb}$ npm install bignumber.js
\end{DoxyVerb}



\begin{DoxyCode}
1 var BigNumber = require('bignumber.js');
\end{DoxyCode}


To load with A\+M\+D loader libraries such as \href{http://requirejs.org/}{\tt require\+J\+S}\+:


\begin{DoxyCode}
1 require(['path/to/bignumber'], function(BigNumber) \{  
2     // Use BigNumber here in local scope. No global BigNumber.
3 \});
\end{DoxyCode}


\subsection*{Use}

{\itshape In all examples below, {\ttfamily var}, semicolons and {\ttfamily to\+String} calls are not shown. If a commented-\/out value is in quotes it means {\ttfamily to\+String} has been called on the preceding expression.}

The library exports a single function\+: {\ttfamily Big\+Number}, the constructor of Big\+Number instances.

It accepts a value of type number $\ast$(up to 15 significant digits only)$\ast$, string or Big\+Number object,


\begin{DoxyCode}
1 x = new BigNumber(123.4567)
2 y = BigNumber('123456.7e-3')
3 z = new BigNumber(x)
4 x.equals(y) && y.equals(z) && x.equals(z)      // true
\end{DoxyCode}


and a base from 2 to 64 inclusive can be specified.


\begin{DoxyCode}
1 x = new BigNumber(1011, 2)          // "11"
2 y = new BigNumber('zz.9', 36)       // "1295.25"
3 z = x.plus(y)                       // "1306.25"
\end{DoxyCode}


\hyperlink{class_a}{A} Big\+Number is immutable in the sense that it is not changed by its methods.


\begin{DoxyCode}
1 0.3 - 0.1                           // 0.19999999999999998  
2 x = new BigNumber(0.3)
3 x.minus(0.1)                        // "0.2"
4 x                                   // "0.3"
\end{DoxyCode}


The methods that return a Big\+Number can be chained.


\begin{DoxyCode}
1 x.dividedBy(y).plus(z).times(9).floor()
2 x.times('1.23456780123456789e+9').plus(9876.5432321).dividedBy('4444562598.111772').ceil()
\end{DoxyCode}


Many method names have a shorter alias.


\begin{DoxyCode}
1 x.squareRoot().dividedBy(y).toPower(3).equals(x.sqrt().div(y).pow(3))         // true
2 x.cmp(y.mod(z).neg()) == 1 && x.comparedTo(y.modulo(z).negated()) == 1        // true
\end{DoxyCode}


Like Java\+Script\textquotesingle{}s number type, there are {\ttfamily to\+Exponential}, {\ttfamily to\+Fixed} and {\ttfamily to\+Precision} methods


\begin{DoxyCode}
1 x = new BigNumber(255.5)
2 x.toExponential(5)                  // "2.55500e+2"
3 x.toFixed(5)                        // "255.50000"
4 x.toPrecision(5)                    // "255.50"
5 x.toNumber()                        // 255.5
\end{DoxyCode}


and a base can be specified for {\ttfamily to\+String}.


\begin{DoxyCode}
1 x.toString(16)                     // "ff.8"
\end{DoxyCode}


There is also a {\ttfamily to\+Format} method which may be useful for internationalisation


\begin{DoxyCode}
1 y = new BigNumber('1234567.898765')
2 y.toFormat(2)                       // "1,234,567.90"
\end{DoxyCode}


The maximum number of decimal places of the result of an operation involving division (i.\+e. a division, square root, base conversion or negative power operation) is set using the {\ttfamily config} method of the {\ttfamily Big\+Number} constructor.

The other arithmetic operations always give the exact result.


\begin{DoxyCode}
1 BigNumber.config(\{ DECIMAL\_PLACES: 10, ROUNDING\_MODE: 4 \})
2 // Alternatively, BigNumber.config( 10, 4 );
3 
4 x = new BigNumber(2);
5 y = new BigNumber(3);
6 z = x.div(y)                        // "0.6666666667"
7 z.sqrt()                            // "0.8164965809"
8 z.pow(-3)                           // "3.3749999995"
9 z.toString(2)                       // "0.1010101011"
10 z.times(z)                          // "0.44444444448888888889"
11 z.times(z).round(10)                // "0.4444444445"
\end{DoxyCode}


There is a {\ttfamily to\+Fraction} method with an optional {\itshape maximum denominator} argument


\begin{DoxyCode}
1 y = new BigNumber(355)
2 pi = y.dividedBy(113)               // "3.1415929204"
3 pi.toFraction()                     // [ "7853982301", "2500000000" ]
4 pi.toFraction(1000)                 // [ "355", "113" ]
\end{DoxyCode}


and {\ttfamily is\+Na\+N} and {\ttfamily is\+Finite} methods, as {\ttfamily Na\+N} and {\ttfamily Infinity} are valid {\ttfamily Big\+Number} values.


\begin{DoxyCode}
1 x = new BigNumber(NaN)                                           // "NaN"
2 y = new BigNumber(Infinity)                                      // "Infinity"
3 x.isNaN() && !y.isNaN() && !x.isFinite() && !y.isFinite()        // true
\end{DoxyCode}


The value of a Big\+Number is stored in a decimal floating point format in terms of a coefficient, exponent and sign.


\begin{DoxyCode}
1 x = new BigNumber(-123.456);
2 x.c                                 // [ 123, 45600000000000 ]  coefficient (i.e. significand)
3 x.e                                 // 2                        exponent
4 x.s                                 // -1                       sign
\end{DoxyCode}


Multiple Big\+Number constructors can be created, each with their own independent configuration which applies to all Big\+Number\textquotesingle{}s created from it.


\begin{DoxyCode}
1 // Set DECIMAL\_PLACES for the original BigNumber constructor
2 BigNumber.config(\{ DECIMAL\_PLACES: 10 \})
3 
4 // Create another BigNumber constructor, optionally passing in a configuration object
5 BN = BigNumber.another(\{ DECIMAL\_PLACES: 5 \})
6 
7 x = new BigNumber(1)
8 y = new BN(1)
9 
10 x.div(3)                            // '0.3333333333'
11 y.div(3)                            // '0.33333'
\end{DoxyCode}


For futher information see the \href{http://mikemcl.github.io/bignumber.js/}{\tt A\+P\+I} reference in the {\itshape doc} directory.

\subsection*{\hyperlink{class_test}{Test}}

The {\itshape test} directory contains the test scripts for each method.

The tests can be run with Node or a browser. For Node use \begin{DoxyVerb}$ npm test
\end{DoxyVerb}


or \begin{DoxyVerb}$ node test/every-test
\end{DoxyVerb}


To test a single method, e.\+g. \begin{DoxyVerb}$ node test/toFraction
\end{DoxyVerb}


For the browser, see {\itshape every-\/test.\+html} and {\itshape single-\/test.\+html} in the {\itshape test/browser} directory.

{\itshape bignumber-\/vs-\/number.\+html} enables some of the methods of bignumber.\+js to be compared with those of Java\+Script\textquotesingle{}s number type.

\subsection*{Versions}

This is version 2.\+x.\+x of the library, for version 1.\+x.\+x see the tagged releases or switch to the \textquotesingle{}original\textquotesingle{} branch. The advantages of version 2 are that it is considerably faster for numbers with many digits and that there are a some added methods (see Change Log below). The disadvantages are more lines of code and increased code complexity, and the loss of simplicity in no longer having the coefficient of a Big\+Number stored in base 10. The \textquotesingle{}original\textquotesingle{} version will continue to be supported.

\subsection*{Performance}

See the \href{https://github.com/MikeMcl/bignumber.js/tree/master/perf}{\tt R\+E\+A\+D\+M\+E} in the {\itshape perf} directory.

\subsection*{Build}

For Node, if \href{https://github.com/mishoo/UglifyJS2}{\tt uglify-\/js} is installed \begin{DoxyVerb}npm install uglify-js -g
\end{DoxyVerb}


then \begin{DoxyVerb}npm run build
\end{DoxyVerb}


will create {\itshape bignumber.\+min.\+js}.

\hyperlink{class_a}{A} source map will also be created in the {\itshape doc} directory.

\subsection*{Feedback}

Open an issue, or email

Michael

\href{mailto:M8ch88l@gmail.com}{\tt M8ch88l@gmail.\+com}

\subsection*{Licence}

M\+I\+T.

See \href{https://github.com/MikeMcl/bignumber.js/blob/master/LICENCE}{\tt L\+I\+C\+E\+N\+C\+E}.

\subsection*{Change Log}

\paragraph*{2.\+0.\+6}


\begin{DoxyItemize}
\item 31/03/2015
\item Add bower.\+json. Tweak division after in-\/depth review.
\end{DoxyItemize}

\paragraph*{2.\+0.\+5}


\begin{DoxyItemize}
\item 25/03/2015
\item Amend R\+E\+A\+D\+M\+E. Remove bitcoin address.
\end{DoxyItemize}

\paragraph*{2.\+0.\+4}


\begin{DoxyItemize}
\item 25/03/2015
\item Critical bugfix \#58\+: division.
\end{DoxyItemize}

\paragraph*{2.\+0.\+3}


\begin{DoxyItemize}
\item 18/02/2015
\item Amend R\+E\+A\+D\+M\+E. Add source map.
\end{DoxyItemize}

\paragraph*{2.\+0.\+2}


\begin{DoxyItemize}
\item 18/02/2015
\item Correct links.
\end{DoxyItemize}

\paragraph*{2.\+0.\+1}


\begin{DoxyItemize}
\item 18/02/2015
\item Add {\ttfamily max}, {\ttfamily min}, {\ttfamily precision}, {\ttfamily random}, {\ttfamily shift}, {\ttfamily to\+Digits} and {\ttfamily truncated} methods.
\item Add the short-\/forms\+: {\ttfamily add}, {\ttfamily mul}, {\ttfamily sd}, {\ttfamily sub} and {\ttfamily trunc}.
\item Add an {\ttfamily another} method to enable multiple independent constructors to be created.
\item Add support for the base 2, 8 and 16 prefixes {\ttfamily 0b}, {\ttfamily 0o} and {\ttfamily 0x}.
\item Enable a rounding mode to be specified as a second parameter to {\ttfamily to\+Exponential}, {\ttfamily to\+Fixed}, {\ttfamily to\+Format} and {\ttfamily to\+Precision}.
\item Add a {\ttfamily C\+R\+Y\+P\+T\+O} configuration property so cryptographically-\/secure pseudo-\/random number generation can be specified.
\item Add a {\ttfamily M\+O\+D\+U\+L\+O\+\_\+\+M\+O\+D\+E} configuration property to enable the rounding mode used by the {\ttfamily modulo} operation to be specified.
\item Add a {\ttfamily P\+O\+W\+\_\+\+P\+R\+E\+C\+I\+S\+I\+O\+N} configuration property to enable the number of significant digits calculated by the power operation to be limited.
\item Improve code quality.
\item Improve documentation.
\end{DoxyItemize}

\paragraph*{2.\+0.\+0}


\begin{DoxyItemize}
\item 29/12/2014
\item Add {\ttfamily divided\+To\+Integer\+By}, {\ttfamily is\+Integer} and {\ttfamily to\+Format} methods.
\item Remove the following short-\/forms\+: {\ttfamily is\+F}, {\ttfamily is\+Z}, {\ttfamily to\+E}, {\ttfamily to\+F}, {\ttfamily to\+Fr}, {\ttfamily to\+N}, {\ttfamily to\+P}, {\ttfamily to\+S}.
\item \hyperlink{class_store}{Store} a Big\+Number\textquotesingle{}s coefficient in base 1e14, rather than base 10.
\item Add fast path for integers to Big\+Number constructor.
\item Incorporate the library into the online documentation.
\end{DoxyItemize}

\paragraph*{1.\+5.\+0}


\begin{DoxyItemize}
\item 13/11/2014
\item Add {\ttfamily to\+J\+S\+O\+N} and {\ttfamily decimal\+Places} methods.
\end{DoxyItemize}

\paragraph*{1.\+4.\+1}


\begin{DoxyItemize}
\item 08/06/2014
\item Amend R\+E\+A\+D\+M\+E.
\end{DoxyItemize}

\paragraph*{1.\+4.\+0}


\begin{DoxyItemize}
\item 08/05/2014
\item Add {\ttfamily to\+Number}.
\end{DoxyItemize}

\paragraph*{1.\+3.\+0}


\begin{DoxyItemize}
\item 08/11/2013
\item Ensure correct rounding of {\ttfamily sqrt} in all, rather than almost all, cases.
\item Maximum radix to 64.
\end{DoxyItemize}

\paragraph*{1.\+2.\+1}


\begin{DoxyItemize}
\item 17/10/2013
\item Sign of zero when x $<$ 0 and x + (-\/x) = 0.
\end{DoxyItemize}

\paragraph*{1.\+2.\+0}


\begin{DoxyItemize}
\item 19/9/2013
\item Throw Error objects for stack.
\end{DoxyItemize}

\paragraph*{\hyperlink{namespace1_1_11_1_11}{1.\+1.\+1}}


\begin{DoxyItemize}
\item 22/8/2013
\item Show original value in constructor error message.
\end{DoxyItemize}

\paragraph*{1.\+1.\+0}


\begin{DoxyItemize}
\item 1/8/2013
\item Allow numbers with trailing radix point.
\end{DoxyItemize}

\paragraph*{1.\+0.\+1}


\begin{DoxyItemize}
\item Bugfix\+: error messages with incorrect method name
\end{DoxyItemize}

\paragraph*{1.\+0.\+0}


\begin{DoxyItemize}
\item 8/11/2012
\item Initial release 
\end{DoxyItemize}