\href{https://npmjs.org/package/etag}{\tt !\mbox{[}N\+P\+M Version\mbox{]}\mbox{[}npm-\/image\mbox{]}} \href{https://npmjs.org/package/etag}{\tt !\mbox{[}N\+P\+M Downloads\mbox{]}\mbox{[}downloads-\/image\mbox{]}} \href{http://nodejs.org/download/}{\tt !\mbox{[}Node.\+js Version\mbox{]}\mbox{[}node-\/version-\/image\mbox{]}} \href{https://travis-ci.org/jshttp/etag}{\tt !\mbox{[}Build Status\mbox{]}\mbox{[}travis-\/image\mbox{]}} \href{https://coveralls.io/r/jshttp/etag?branch=master}{\tt !\mbox{[}Test Coverage\mbox{]}\mbox{[}coveralls-\/image\mbox{]}}

Create simple E\+Tags

\subsection*{Installation}


\begin{DoxyCode}
1 $ npm install etag
\end{DoxyCode}


\subsection*{A\+P\+I}


\begin{DoxyCode}
\hyperlink{018__def_8c_a335628f2e9085305224b4f9cc6e95ed5}{var} etag = require(\textcolor{stringliteral}{'etag'})
\end{DoxyCode}


\subsubsection*{etag(entity, \mbox{[}options\mbox{]})}

Generate a strong E\+Tag for the given entity. This should be the complete body of the entity. Strings, {\ttfamily Buffer}s, and {\ttfamily fs.\+Stats} are accepted. By default, a strong E\+Tag is generated except for {\ttfamily fs.\+Stats}, which will generate a weak E\+Tag (this can be overwritten by {\ttfamily options.\+weak}).


\begin{DoxyCode}
res.setHeader(\textcolor{stringliteral}{'ETag'}, etag(body))
\end{DoxyCode}


\paragraph*{Options}

{\ttfamily etag} accepts these properties in the options object.

\subparagraph*{weak}

Specifies if a \char`\"{}strong\char`\"{} or a \char`\"{}weak\char`\"{} E\+Tag will be generated. The E\+Tag can only really be a strong as the given input.

\subsection*{Testing}


\begin{DoxyCode}
1 $ npm test
\end{DoxyCode}


\subsection*{Benchmark}


\begin{DoxyCode}
1 $ npm run-script bench
2 
3 > etag@1.5.1 bench nodejs-etag
4 > node benchmark/index.js
5 
6 > node benchmark/body0-100b.js
7 
8   100B body
9 
10   1 test completed.
11   2 tests completed.
12   3 tests completed.
13   4 tests completed.
14 
15   buffer - strong x   425,007 ops/sec ±1.47% (184 runs sampled)
16 * buffer - weak   x 1,009,859 ops/sec ±0.18% (197 runs sampled)
17   string - strong x   442,096 ops/sec ±1.20% (181 runs sampled)
18   string - weak   x   325,063 ops/sec ±0.31% (192 runs sampled)
19 
20 > node benchmark/body1-1kb.js
21 
22   1KB body
23 
24   1 test completed.
25   2 tests completed.
26   3 tests completed.
27   4 tests completed.
28 
29   buffer - strong x 263,069 ops/sec ±1.60% (190 runs sampled)
30 * buffer - weak   x 295,732 ops/sec ±0.43% (199 runs sampled)
31   string - strong x 274,822 ops/sec ±1.15% (191 runs sampled)
32   string - weak   x 169,473 ops/sec ±1.59% (194 runs sampled)
33 
34 > node benchmark/body2-5kb.js
35 
36   5KB body
37 
38   1 test completed.
39   2 tests completed.
40   3 tests completed.
41   4 tests completed.
42 
43   buffer - strong x 104,299 ops/sec ±0.60% (193 runs sampled)
44 * buffer - weak   x 108,126 ops/sec ±0.65% (196 runs sampled)
45   string - strong x 101,736 ops/sec ±0.78% (194 runs sampled)
46   string - weak   x 101,266 ops/sec ±0.85% (192 runs sampled)
47 
48 > node benchmark/body3-10kb.js
49 
50   10KB body
51 
52   1 test completed.
53   2 tests completed.
54   3 tests completed.
55   4 tests completed.
56 
57   buffer - strong x 59,007 ops/sec ±0.29% (198 runs sampled)
58 * buffer - weak   x 60,968 ops/sec ±0.48% (197 runs sampled)
59   string - strong x 51,873 ops/sec ±1.78% (178 runs sampled)
60   string - weak   x 52,307 ops/sec ±2.63% (193 runs sampled)
61 
62 > node benchmark/body4-100kb.js
63 
64   100KB body
65 
66   1 test completed.
67   2 tests completed.
68   3 tests completed.
69   4 tests completed.
70 
71   buffer - strong x 6,712 ops/sec ±0.11% (198 runs sampled)
72 * buffer - weak   x 6,716 ops/sec ±0.50% (196 runs sampled)
73   string - strong x 6,397 ops/sec ±0.36% (196 runs sampled)
74   string - weak   x 6,635 ops/sec ±0.15% (198 runs sampled)
\end{DoxyCode}


\subsection*{License}

\mbox{[}M\+I\+T\mbox{]}(L\+I\+C\+E\+N\+S\+E) 